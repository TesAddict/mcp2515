#ifndef _MCP2515_DEFINES_H_
#define _MCP2515_DEFINES_H_

// Commands
#define MCP2515_RESET       0xC0U
#define MCP2515_READ        0x03U

#define MCP2515_READ_RX_BUFFER_RXB0SIDH 0x90U
#define MCP2515_READ_RX_BUFFER_RXB0D0   0x92U
#define MCP2515_READ_RX_BUFFER_RXB1SIDH 0x94U
#define MCP2515_READ_RX_BUFFER_RXB1D0   0x96U

#define MCP2515_WRITE_TX_BUFFER_TXB0SIDH 0x40U
#define MCP2515_WRITE_TX_BUFFER_TXB0D0   0x41U
#define MCP2515_WRITE_TX_BUFFER_TXB1SIDH 0x42U
#define MCP2515_WRITE_TX_BUFFER_TXB1D0   0x43U
#define MCP2515_WRITE_TX_BUFFER_TXB2SIDH 0x44U
#define MCP2515_WRITE_TX_BUFFER_TXB2D0   0x45U

#define MCP2515_WRITE       0x02U
#define MCP2515_READ_STATUS 0xA0U
#define MCP2515_RX_STATUS   0xB0U
#define MCP2515_BIT_MODIFY  0x05U

// Register Addresses
#define MCP2515_BFPCTRL     0x0CU
#define MCP2515_TXRTSCTRL   0x0DU
#define MCP2515_CANSTAT     0x0EU
#define MCP2515_CANCTRL     0x0FU
#define MCP2515_TEC         0x1CU
#define MCP2515_REC         0x1DU
#define MCP2515_CNF3        0x28U
#define MCP2515_CNF2        0x29U
#define MCP2515_CNF1        0x2AU
#define MCP2515_CANINTE     0x2BU
#define MCP2515_CANINTF     0x2CU
#define MCP2515_EFLG        0x2DU
#define MCP2515_TXB0CTRL    0x30U
#define MCP2515_TXB1CTRL    0x40U
#define MCP2515_TXB2CTRL    0x50U
#define MCP2515_RXB0CTRL    0x60U
#define MCP2515_RXB1CTRL    0x70U

// BFPCTRL
#define MCP2515_BFPCTRL_B1BFS_SHIFT 5U
#define MCP2515_BFPCTRL_B0BFS_SHIFT 4U
#define MCP2515_BFPCTRL_B1BFE_SHIFT 3U
#define MCP2515_BFPCTRL_B0BFE_SHIFT 2U
#define MCP2515_BFPCTRL_B1BFM_SHIFT 1U
#define MCP2515_BFPCTRL_B0BFM_SHIFT 0U

#define MCP2515_BFPCTRL_B1BFS_MASK     (1U << MCP2515_BFPCTRL_B1BFS_SHIFT)
#define MCP2515_BFPCTRL_B0BFS_MASK     (1U << MCP2515_BFPCTRL_B0BFS_SHIFT)
#define MCP2515_BFPCTRL_B1BFE_MASK     (1U << MCP2515_BFPCTRL_B1BFE_SHIFT)
#define MCP2515_BFPCTRL_B0BFE_MASK     (1U << MCP2515_BFPCTRL_B0BFE_SHIFT)
#define MCP2515_BFPCTRL_B1BFM_MASK     (1U << MCP2515_BFPCTRL_B1BFM_SHIFT)
#define MCP2515_BFPCTRL_B0BFM_MASK     (1U << MCP2515_BFPCTRL_B0BFM_SHIFT)

// TXRTSCTRL
#define MCP2515_TXRTSCTRL_B2RTS_SHIFT  5U
#define MCP2515_TXRTSCTRL_B1RTS_SHIFT  4U
#define MCP2515_TXRTSCTRL_B0RTS_SHIFT  3U
#define MCP2515_TXRTSCTRL_B2RTSM_SHIFT 2U
#define MCP2515_TXRTSCTRL_B1RTSM_SHIFT 1U
#define MCP2515_TXRTSCTRL_B0RTSM_SHIFT 0U

#define MCP2515_TXRTSCTRL_B2RTS_MASK   (1U << MCP2515_TXRTSCTRL_B2RTS_SHIFT)
#define MCP2515_TXRTSCTRL_B1RTS_MASK   (1U << MCP2515_TXRTSCTRL_B1RTS_SHIFT)
#define MCP2515_TXRTSCTRL_B0RTS_MASK   (1U << MCP2515_TXRTSCTRL_B0RTS_SHIFT)
#define MCP2515_TXRTSCTRL_B2RTSM_MASK  (1U << MCP2515_TXRTSCTRL_B2RTSM_SHIFT)
#define MCP2515_TXRTSCTRL_B1RTSM_MASK  (1U << MCP2515_TXRTSCTRL_B1RTSM_SHIFT)
#define MCP2515_TXRTSCTRL_B0RTSM_MASK  (1U << MCP2515_TXRTSCTRL_B0RTSM_SHIFT)

// CANSTAT
#define MCP2515_CANSTAT_OPMOD2_SHIFT 7U
#define MCP2515_CANSTAT_OPMOD1_SHIFT 6U
#define MCP2515_CANSTAT_OPMOD0_SHIFT 5U
#define MCP2515_CANSTAT_ICOD2_SHIFT  3U
#define MCP2515_CANSTAT_ICOD1_SHIFT  2U
#define MCP2515_CANSTAT_ICOD0_SHIFT  1U

#define MCP2515_CANSTAT_OPMOD2_MASK    (1U << MCP2515_CANSTAT_OPMOD2_SHIFT)
#define MCP2515_CANSTAT_OPMOD1_MASK    (1U << MCP2515_CANSTAT_OPMOD1_SHIFT)
#define MCP2515_CANSTAT_OPMOD0_MASK    (1U << MCP2515_CANSTAT_OPMOD0_SHIFT)
#define MCP2515_CANSTAT_ICOD2_MASK     (1U << MCP2515_CANSTAT_ICOD2_SHIFT)
#define MCP2515_CANSTAT_ICOD1_MASK     (1U << MCP2515_CANSTAT_ICOD1_SHIFT)
#define MCP2515_CANSTAT_ICOD0_MASK     (1U << MCP2515_CANSTAT_ICOD0_SHIFT)

// CANCTRL
#define MCP2515_CANCTRL_REQOP2_SHIFT  7U
#define MCP2515_CANCTRL_REQOP1_SHIFT  6U
#define MCP2515_CANCTRL_REQOP0_SHIFT  5U
#define MCP2515_CANCTRL_ABAT_SHIFT    4U
#define MCP2515_CANCTRL_OSM_SHIFT     3U
#define MCP2515_CANCTRL_CLKEN_SHIFT   2U
#define MCP2515_CANCTRL_CLKPRE1_SHIFT 1U
#define MCP2515_CANCTRL_CLKPRE0_SHIFT 0U

#define MCP2515_CANCTRL_REQOP2_MASK   (1U << MCP2515_CANCTRL_REQOP2_SHIFT)
#define MCP2515_CANCTRL_REQOP1_MASK   (1U << MCP2515_CANCTRL_REQOP1_SHIFT)
#define MCP2515_CANCTRL_REQOP0_MASK   (1U << MCP2515_CANCTRL_REQOP0_SHIFT)
#define MCP2515_CANCTRL_ABAT_MASK     (1U << MCP2515_CANCTRL_ABAT_SHIFT)
#define MCP2515_CANCTRL_OSM_MASK      (1U << MCP2515_CANCTRL_OSM_SHIFT)
#define MCP2515_CANCTRL_CLKEN_MASK    (1U << MCP2515_CANCTRL_CLKEN_SHIFT)
#define MCP2515_CANCTRL_CLKPRE1_MASK  (1U << MCP2515_CANCTRL_CLKPRE1_SHIFT)
#define MCP2515_CANCTRL_CLKPRE0_MASK  (1U << MCP2515_CANCTRL_CLKPRE0_SHIFT)

// CNF3
#define MCP2515_CNF3_SOF_SHIFT     7U
#define MCP2515_CNF3_WAKFIL_SHIFT  6U
#define MCP2515_CNF3_PHSEG22_SHIFT 2U
#define MCP2515_CNF3_PHSEG21_SHIFT 1U
#define MCP2515_CNF3_PHSEG20_SHIFT 0U

#define MCP2515_CNF3_SOF_MASK      (1U << MCP2515_CNF3_SOF_SHIFT)
#define MCP2515_CNF3_WAKFIL_MASK   (1U << MCP2515_CNF3_WAKFIL_SHIFT)
#define MCP2515_CNF3_PHSEG22_MASK  (1U << MCP2515_CNF3_PHSEG22_SHIFT)
#define MCP2515_CNF3_PHSEG21_MASK  (1U << MCP2515_CNF3_PHSEG21_SHIFT)
#define MCP2515_CNF3_PHSEG20_MASK  (1U << MCP2515_CNF3_PHSEG20_SHIFT)

// CNF2
#define MCP2515_CNF2_BTLMODE_SHIFT 7U
#define MCP2515_CNF2_SAM_SHIFT     6U
#define MCP2515_CNF2_PHSEG12_SHIFT 5U
#define MCP2515_CNF2_PHSEG11_SHIFT 4U
#define MCP2515_CNF2_PHSEG10_SHIFT 3U
#define MCP2515_CNF2_PRSEG2_SHIFT  2U
#define MCP2515_CNF2_PRSEG1_SHIFT  1U
#define MCP2515_CNF2_PRSEG0_SHIFT  0U

#define MCP2515_CNF2_BTLMODE_MASK  (1U << MCP2515_CNF2_BTLMODE_SHIFT)
#define MCP2515_CNF2_SAM_MASK      (1U << MCP2515_CNF2_SAM_SHIFT)
#define MCP2515_CNF2_PHSEG12_MASK  (1U << MCP2515_CNF2_PHSEG12_SHIFT)
#define MCP2515_CNF2_PHSEG11_MASK  (1U << MCP2515_CNF2_PHSEG11_SHIFT)
#define MCP2515_CNF2_PHSEG10_MASK  (1U << MCP2515_CNF2_PHSEG10_SHIFT)
#define MCP2515_CNF2_PRSEG2_MASK   (1U << MCP2515_CNF2_PRSEG2_SHIFT)
#define MCP2515_CNF2_PRSEG1_MASK   (1U << MCP2515_CNF2_PRSEG1_SHIFT)
#define MCP2515_CNF2_PRSEG0_MASK   (1U << MCP2515_CNF2_PRSEG0_SHIFT)

// CNF1
#define MCP2515_CNF1_SJW1_SHIFT 7U
#define MCP2515_CNF1_SJW0_SHIFT 6U
#define MCP2515_CNF1_BRP5_SHIFT 5U
#define MCP2515_CNF1_BRP4_SHIFT 4U
#define MCP2515_CNF1_BRP3_SHIFT 3U
#define MCP2515_CNF1_BRP2_SHIFT 2U
#define MCP2515_CNF1_BRP1_SHIFT 1U
#define MCP2515_CNF1_BRP0_SHIFT 0U

#define MCP2515_CNF1_SJW1_MASK   (1U << MCP2515_CNF1_SJW1_SHIFT)
#define MCP2515_CNF1_SJW0_MASK   (1U << MCP2515_CNF1_SJW0_SHIFT)
#define MCP2515_CNF1_BRP5_MASK   (1U << MCP2515_CNF1_BRP5_SHIFT)
#define MCP2515_CNF1_BRP4_MASK   (1U << MCP2515_CNF1_BRP4_SHIFT)
#define MCP2515_CNF1_BRP3_MASK   (1U << MCP2515_CNF1_BRP3_SHIFT)
#define MCP2515_CNF1_BRP2_MASK   (1U << MCP2515_CNF1_BRP2_SHIFT)
#define MCP2515_CNF1_BRP1_MASK   (1U << MCP2515_CNF1_BRP1_SHIFT)
#define MCP2515_CNF1_BRP0_MASK   (1U << MCP2515_CNF1_BRP0_SHIFT)

// CANINTE
#define MCP2515_CANINTE_MERRE_SHIFT 7U
#define MCP2515_CANINTE_WAKIE_SHIFT 6U
#define MCP2515_CANINTE_ERRIE_SHIFT 5U
#define MCP2515_CANINTE_TX2IE_SHIFT 4U
#define MCP2515_CANINTE_TX1IE_SHIFT 3U
#define MCP2515_CANINTE_TX0IE_SHIFT 2U
#define MCP2515_CANINTE_RX1IE_SHIFT 1U
#define MCP2515_CANINTE_RX0IE_SHIFT 0U

#define MCP2515_CANINTE_MERRE_MASK (1U << MCP2515_CANINTE_MERRE_SHIFT)
#define MCP2515_CANINTE_WAKIE_MASK (1U << MCP2515_CANINTE_WAKIE_SHIFT)
#define MCP2515_CANINTE_ERRIE_MASK (1U << MCP2515_CANINTE_ERRIE_SHIFT)
#define MCP2515_CANINTE_TX2IE_MASK (1U << MCP2515_CANINTE_TX2IE_SHIFT)
#define MCP2515_CANINTE_TX1IE_MASK (1U << MCP2515_CANINTE_TX1IE_SHIFT)
#define MCP2515_CANINTE_TX0IE_MASK (1U << MCP2515_CANINTE_TX0IE_SHIFT)
#define MCP2515_CANINTE_RX1IE_MASK (1U << MCP2515_CANINTE_RX1IE_SHIFT)
#define MCP2515_CANINTE_RX0IE_MASK (1U << MCP2515_CANINTE_RX0IE_SHIFT)

// CANINTF
#define MCP2515_CANINTF_MERRF_SHIFT 7U
#define MCP2515_CANINTF_WAKIF_SHIFT 6U
#define MCP2515_CANINTF_ERRIF_SHIFT 5U
#define MCP2515_CANINTF_TX2IF_SHIFT 4U
#define MCP2515_CANINTF_TX1IF_SHIFT 3U
#define MCP2515_CANINTF_TX0IF_SHIFT 2U
#define MCP2515_CANINTF_RX1IF_SHIFT 1U
#define MCP2515_CANINTF_RX0IF_SHIFT 0U

#define MCP2515_CANINTF_MERRF_MASK (1U << MCP2515_CANINTF_MERRF_SHIFT)
#define MCP2515_CANINTF_WAKIF_MASK (1U << MCP2515_CANINTF_WAKIF_SHIFT)
#define MCP2515_CANINTF_ERRIF_MASK (1U << MCP2515_CANINTF_ERRIF_SHIFT)
#define MCP2515_CANINTF_TX2IF_MASK (1U << MCP2515_CANINTF_TX2IF_SHIFT)
#define MCP2515_CANINTF_TX1IF_MASK (1U << MCP2515_CANINTF_TX1IF_SHIFT)
#define MCP2515_CANINTF_TX0IF_MASK (1U << MCP2515_CANINTF_TX0IF_SHIFT)
#define MCP2515_CANINTF_RX1IF_MASK (1U << MCP2515_CANINTF_RX1IF_SHIFT)
#define MCP2515_CANINTF_RX0IF_MASK (1U << MCP2515_CANINTF_RX0IF_SHIFT)

// EFLG
#define MCP2515_EFLG_RX1OVR_SHIFT 7U
#define MCP2515_EFLG_RX0OVR_SHIFT 6U
#define MCP2515_EFLG_TXBO_SHIFT   5U
#define MCP2515_EFLG_TXEP_SHIFT   4U
#define MCP2515_EFLG_RXEP_SHIFT   3U
#define MCP2515_EFLG_TXWAR_SHIFT  2U
#define MCP2515_EFLG_RXWAR_SHIFT  1U
#define MCP2515_EFLG_EWARN_SHIFT  0U

#define MCP2515_EFLG_RX1OVR_MASK (1U << MCP2515_EFLG_RX1OVR_SHIFT)
#define MCP2515_EFLG_RX0OVR_MASK (1U << MCP2515_EFLG_RX0OVR_SHIFT)
#define MCP2515_EFLG_TXBO_MASK   (1U << MCP2515_EFLG_TXBO_SHIFT)
#define MCP2515_EFLG_TXEP_MASK   (1U << MCP2515_EFLG_TXEP_SHIFT)
#define MCP2515_EFLG_RXEP_MASK   (1U << MCP2515_EFLG_RXEP_SHIFT)
#define MCP2515_EFLG_TXWAR_MASK  (1U << MCP2515_EFLG_TXWAR_SHIFT)
#define MCP2515_EFLG_RXWAR_MASK  (1U << MCP2515_EFLG_RXWAR_SHIFT)
#define MCP2515_EFLG_EWARN_MASK  (1U << MCP2515_EFLG_EWARN_SHIFT)

// TXBNCTRL
#define MCP2515_TXBNCTRL_ABTF_SHIFT  6U
#define MCP2515_TXBNCTRL_MLOA_SHIFT  5U
#define MCP2515_TXBNCTRL_TXERR_SHIFT 4U
#define MCP2515_TXBNCTRL_TXREQ_SHIFT 3U
#define MCP2515_TXBNCTRL_TXP1_SHIFT  1U
#define MCP2515_TXBNCTRL_TXP0_SHIFT  0U

#define MCP2515_TXBNCTRL_ABTF_MASK  (1U << MCP2515_TXBNCTRL_ABTF_SHIFT)
#define MCP2515_TXBNCTRL_MLOA_MASK  (1U << MCP2515_TXBNCTRL_MLOA_SHIFT)
#define MCP2515_TXBNCTRL_TXERR_MASK (1U << MCP2515_TXBNCTRL_TXERR_SHIFT)
#define MCP2515_TXBNCTRL_TXREQ_MASK (1U << MCP2515_TXBNCTRL_TXREQ_SHIFT)
#define MCP2515_TXBNCTRL_TXP1_MASK  (1U << MCP2515_TXBNCTRL_TXP1_SHIFT)
#define MCP2515_TXBNCTRL_TXP0_MASK  (1U << MCP2515_TXBNCTRL_TXP0_SHIFT)

// TXRTSCTRL
#define MCP2515_TXRTSCTRL_B2RTS_SHIFT  5U
#define MCP2515_TXRTSCTRL_B1RTS_SHIFT  4U
#define MCP2515_TXRTSCTRL_B0RTS_SHIFT  3U
#define MCP2515_TXRTSCTRL_B2RTSM_SHIFT 2U
#define MCP2515_TXRTSCTRL_B1RTSM_SHIFT 1U
#define MCP2515_TXRTSCTRL_B0RTSM_SHIFT 0U

#define MCP2515_TXRTSCTRL_B2RTS_MASK  (1U << MCP2515_TXRTSCTRL_B2RTS_SHIFT)
#define MCP2515_TXRTSCTRL_B1RTS_MASK  (1U << MCP2515_TXRTSCTRL_B1RTS_SHIFT)
#define MCP2515_TXRTSCTRL_B0RTS_MASK  (1U << MCP2515_TXRTSCTRL_B0RTS_SHIFT)
#define MCP2515_TXRTSCTRL_B2RTSM_MASK (1U << MCP2515_TXRTSCTRL_B2RTSM_SHIFT)
#define MCP2515_TXRTSCTRL_B1RTSM_MASK (1U << MCP2515_TXRTSCTRL_B1RTSM_SHIFT)
#define MCP2515_TXRTSCTRL_B0RTSM_MASK (1U << MCP2515_TXRTSCTRL_B0RTSM_SHIFT)

// TXBNSIDH
#define MCP2515_TXBNSIDH_SID_SHIFT 0U

#define MCP2515_TXBNSIDH_SID_MASK  (255U << MCP2515_TXBNSIDH_SID_SHIFT)

// TXBNSIDL
#define MCP2515_TXBNSIDL_SID_SHIFT   5U
#define MCP2515_TXBNSIDL_EXIDE_SHIFT 3U
#define MCP2515_TXBNSIDL_EID_SHIFT   0U

#define MCP2515_TXBNSIDL_SID_MASK    (7U << MCP2515_TXBNSIDL_SID_SHIFT)
#define MCP2515_TXBNSIDL_EXIDE_MASK  (1U << MCP2515_TXBNSIDL_EXIDE_SHIFT)
#define MCP2515_TXBNSIDL_EID_MASK    (3U << MCP2515_TXBNSIDL_EID_SHIFT)

// TXBNEID8
#define MCP2515_TXBNEID8_EID_SHIFT 0U
#define MCP2515_TXBNEID8_EID_MASK  (255U << MCP2515_TXBNEID8_SID_SHIFT)

// TXBNEID0
#define MCP2515_TXBNEID0_EID_SHIFT 0U
#define MCP2515_TXBNEID0_EID_MASK  (255U << MCP2515_TXBNEID0_SID_SHIFT)

// TXBNDLC 
#define MCP2515_TXBNDLC_RTR_SHIFT 6U
#define MCP2515_TXBNDLC_DLC_SHIFT 0U
#define MCP2515_TXBNDLC_RTR_MASK (1U  << MCP2515_TXBNDLC_RTR_SHIFT)
#define MCP2515_TXBNDLC_DLC_MASK (15U << MCP2515_TXBNDLC_DLC_SHIFT)

// RXB0CTRL
#define MCP2515_RXB0CTRL_RXM1_SHIFT    6U
#define MCP2515_RXB0CTRL_RXM0_SHIFT    5U
#define MCP2515_RXB0CTRL_RXRTR_SHIFT   3U
#define MCP2515_RXB0CTRL_BUKT_SHIFT    2U
#define MCP2515_RXB0CTRL_BUKT1_SHIFT   1U
#define MCP2515_RXB0CTRL_FILHIT0_SHIFT 0U

#define MCP2515_RXB0CTRL_RXM1_MASK     (1U << MCP2515_RXB0CTRL_RXM1_SHIFT)
#define MCP2515_RXB0CTRL_RXM0_MASK     (1U << MCP2515_RXB0CTRL_RXM0_SHIFT)
#define MCP2515_RXB0CTRL_RXRTR_MASK    (1U << MCP2515_RXB0CTRL_RXRTR_SHIFT)
#define MCP2515_RXB0CTRL_BUKT_MASK     (1U << MCP2515_RXB0CTRL_BUKT_SHIFT)
#define MCP2515_RXB0CTRL_BUKT1_MASK    (1U << MCP2515_RXB0CTRL_BUKT1_SHIFT)
#define MCP2515_RXB0CTRL_FILHIT0_MASK  (1U << MCP2515_RXB0CTRL_FILHIT0_SHIFT)

// RXB1CTRL
#define MCP2515_RXB1CTRL_RXM1_SHIFT    6U
#define MCP2515_RXB1CTRL_RXM0_SHIFT    5U
#define MCP2515_RXB1CTRL_RXRTR_SHIFT   3U
#define MCP2515_RXB1CTRL_FILHIT2_SHIFT 2U
#define MCP2515_RXB1CTRL_FILHIT1_SHIFT 1U
#define MCP2515_RXB1CTRL_FILHIT0_SHIFT 0U

#endif